{% comment %}
  Renders a parkrun utility card with configurable content and SEO markup.
  Usage: {% include utility-card.html card=card %}
{% endcomment %}
<div class="utility-card" data-utility-id="{{ include.card.id }}">
  <h3><a href="{{ include.card.url }}">{{ include.card.title }}</a></h3>
  <img 
    src="{{ include.card.image }}" 
    alt="{{ include.card.image_alt }}" 
    class="utility-preview"
    loading="lazy"
  />
  <p>{{ include.card.description }}</p>
  <div class="utility-meta">
    <p><strong>Purpose:</strong> {{ include.card.purpose }}</p>
    <p><strong>Features:</strong> {{ include.card.features | join: ', ' }}</p>
  </div>
  <p><a href="{{ include.card.url }}">Visit {{ include.card.title }} &rarr;</a></p>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "{{ include.card.seo.schema_type }}",
    "name": "{{ include.card.title }}",
    "description": "{{ include.card.description | strip_newlines | escape }}",
    "url": "{{ include.card.url }}",
    "image": "{{ include.card.image }}",
    "keywords": "{{ include.card.seo.keywords }}",
    "applicationCategory": "Utility",
    "operatingSystem": "Web Browser",
    "author": {
      "@type": "Person",
      "name": "{{ site.author.name }}"{% if site.author.pronunciation %},
      "alternateName": "{{ site.author.name }} ({{ site.author.pronunciation }})"{% endif %},
      "givenName": "{{ site.author.given_name }}",
      "familyName": "{{ site.author.family_name }}"{% if site.author.pronouns %},
      "pronouns": "{{ site.author.pronouns }}"{% endif %}{% if site.author.bio %},
      "description": "{{ site.author.bio }}"{% endif %},
      "url": "{{ site.author.url }}"{% if site.author.avatar %},
      "image": "{{ site.author.avatar }}"{% endif %}{% if site.author.social_profiles %},
      "sameAs": {{ site.author.social_profiles | jsonify }}{% endif %},
      "jobTitle": "Software Engineer",
      "knowsAbout": ["parkrun", "web development", "software engineering", "volunteering"]
    }
  }
  </script>
</div>
