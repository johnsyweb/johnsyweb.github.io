<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    {% if page.url == '/' %}
      <title>johnsy.com</title>
    {% elsif paginator.page and paginator.page > 1 %}
      {% assign clean_title = page.title | split: ' --' | first %}
      <title>{{ clean_title }} - Page {{ paginator.page }} | johnsy.com</title>
    {% elsif page.title %}
      {% assign clean_title = page.title | split: ' --' | first %}
      <title>{{ clean_title }} | johnsy.com</title>
    {% else %}
      <title>johnsy.com</title>
    {% endif %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#fdf6e3" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#002a35" media="(prefers-color-scheme: dark)" />

    <meta http-equiv="Window-Target" content="_top" />
    <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
    <meta name="MSSmartTagsPreventParsing" content="TRUE" />
    {% assign page_description = page.description | default: site.description %}
    {% assign page_keywords = page.keywords | default: site.keywords %}
    <meta name="description" content="{{ page_description }}" />
    <meta name="keywords" content="{{ page_keywords }}" />

    <!-- Default icons -->
    <link rel="shortcut icon" href="{{ site.url }}/favicon.ico" />
    <link
      rel="apple-touch-icon"
      href="{{ site.url }}/icons/apple-touch-icon.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      href="{{ site.url }}/icons/apple-touch-icon-precomposed.png"
    />

    <!-- Sized apple touch icons -->
    {% for size in site.apple_touch_icon_sizes %}
    <link
      rel="apple-touch-icon"
      sizes="{{ size }}x{{ size }}"
      href="{{ site.url }}/icons/apple-touch-icon-{{ size }}x{{ size }}.png"
    />
    {% endfor %}

    <!-- Favicon icons -->
    {% for size in site.favicon_sizes %}
    <link
      rel="icon"
      type="image/png"
      sizes="{{ size }}x{{ size }}"
      href="{{ site.url }}/icons/favicon-{{ size }}x{{ size }}.png"
    />
    {% endfor %}

    <!-- Microsoft application metadata -->
    <meta name="application-name" content="{{ site.name }}" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta
      name="msapplication-TileImage"
      content="{{ site.url }}/icons/mstile-144x144.png"
    />

    {% for size in site.mstile_sizes %}
    <meta
      name="msapplication-{{ size.type }}"
      content="{{ site.url }}/icons/mstile-{{ size.dimensions }}.png"
    />
    {% endfor %}

    <meta property="og:description" content="{{ page_description }}" />

    {% assign default_image = site.url | append: '/icons/favicon-196x196.png' %}
    {% if page.og_image %}
      {% assign image_url = page.og_image %}
    {% elsif page.content contains '<img' %} {% assign first_img_block =
    page.content | split: '<img' | last %} {% assign raw_src = first_img_block |
    split:'src="' | last | split:'"' | first %} {% if raw_src contains '//' %}
    {% assign image_url = raw_src %} {% else %} {% assign image_url = site.url |
    append: raw_src %} {% endif %} {% else %} {% assign image_url =
    default_image %} {% endif %}

    <meta property="og:title" content="{{ page.title }}" />
    <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
    {% if page.date %}
    <meta property="og:type" content="article" />
    {% else %}
    <meta property="og:type" content="website" />
    {% endif %}
    <meta property="og:site_name" content="{{ site.name }}" />
    <meta property="og:image" content="{{ image_url }}" />
    {% if page.og_image_alt %}
    <meta property="og:image:alt" content="{{ page.og_image_alt }}" />
    {% endif %}

    {% if page.date %}
    <meta
      property="article:published_time"
      content="{{ page.date | date: '%Y-%m-%d %H:%M:%S' }}"
    />
    {% endif %} {% if page.updated %}
    <meta
      property="og:title"
      content="{{ page.title }} (updated {{ page.updated | date: '%Y-%m-%d %H:%M:%S' }})"
    />
    <meta
      property="article:modified_time"
      content="{{ page.updated | date: '%Y-%m-%d %H:%M:%S' }}"
    />
    {% endif %}

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{ page.title }}" />
    <meta name="twitter:description" content="{{ page_description }}" />
    <meta name="twitter:image" content="{{ image_url }}" />

    {% if page.date %}
    <meta
      name="twitter:data1"
      content="Published: {{ page.date | date: '%Y-%m-%d %H:%M:%S' }}"
    />
    {% endif %} {% if page.updated %}
    <meta
      name="twitter:title"
      content="{{ page.title }} (updated {{ page.updated | date: '%Y-%m-%d %H:%M:%S' }})"
    />
    <meta
      name="twitter:data2"
      content="Updated: {{ page.updated | date: '%Y-%m-%d %H:%M:%S' }}"
    />
    {% endif %}

    
    <link rel="preload" href="{{ site.url }}/assets/fonts/Atkinson-Hyperlegible-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="{{ site.url }}/assets/fonts/Atkinson-Hyperlegible-Bold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="{{ site.url }}/assets/fonts/Atkinson-Hyperlegible-Italic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="{{ site.url }}/assets/fonts/Atkinson-Hyperlegible-BoldItalic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="{{ site.url }}/assets/fonts/Atkinson-Hyperlegible-Mono-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="{{ site.url }}/assets/fonts/Atkinson-Hyperlegible-Mono-Bold.woff2" as="font" type="font/woff2" crossorigin>

    <link
      href="{{ site.url }}/assets/css/style.css"
      rel="stylesheet"
    />
    <link
      href="{{ site.url }}/assets/css/colors-light.css"
      rel="stylesheet"
    />
    <link
      href="{{ site.url }}/assets/css/colors-dark.css"
      rel="stylesheet"
    />

    <link rel="Start" href="{{ site.url }}/" title="Back to the start" />
    <link
      rel="Help"
      href="{{ site.url }}/about/"
      title="What is the point of this website?"
    />
    <link
      rel="alternate"
      type="text/xml"
      title="Atom"
      href="{{ site.url }}/feed.xml"
    />
  </head>

  <body>
    <a href="#content" class="skip-link">Skip to main content</a>
    <header id="header">
      <h1><a href="{{ site.url }}/">{{ site.name }}</a></h1>
      <p>{{ site.description_html }}</p>
    </header>

    <div id="page">
      <div id="sidebar">
        <nav aria-label="Main navigation">
          <ul>
            <li><a href="{{ site.url }}/" {% if page.url == '/' %}aria-current="page"{% endif %}>Home</a></li>
            <li><a href="{{ site.url }}/about" {% if page.url contains '/about' %}aria-current="page"{% endif %}>About</a></li>
            <li><a href="{{ site.url }}/blog" {% if page.url contains '/blog' %}aria-current="page"{% endif %}>Blog</a></li>
            <li><a href="{{ site.url }}/contact" {% if page.url contains '/contact' %}aria-current="page"{% endif %}>Contact</a></li>
            <li><a href="{{ site.url }}/parkrun-utility" {% if page.url contains '/parkrun-utility' %}aria-current="page"{% endif %}>parkrun utility</a></li>
          </ul>
        </nav>
      </div>

      <div id="content">
        {% include anchor_headings.html html=content beforeHeading=true
        anchorClass="anchor" anchorBody="#" anchorTitle="link to subheading"
        h_min=2 %}
      </div>
    </div>

    <footer id="footer">
      <p>
        Copyright &copy; 2000-{{ site.time | date: '%Y' }}
        <a rel="author" href="{{ site.url }}/about/"
          ><em><acronym title="Peter Alexander Johns">paj</acronym></em></a
        >
        (<a
          rel="me"
          aria-label="@pete.johnsy.com on Bluesky"
          title="Alas, poor Twitter"
          href="https://bsky.app/profile/pete.johnsy.com"
          >@pete.johnsy.com</a
        >) All rights (and some wrongs) reserved.
      </p>
      <p>
        Hosted by <a href="https://github.com">GitHub</a>, powered by
        <a href="https://jekyllrb.com">Jekyll</a>, theme by
        <a href="https://www.webmaster-source.com">Matt Harzewski</a>.
      </p>
    </footer>

    <script src="{{ site.url }}/assets/js/mobile-menu.js"></script>
  </body>
</html>
